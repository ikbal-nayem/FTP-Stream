{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/iku/Dropbox/program/project/samonline/UI/src/logged_out/components/cookies/CookieConsent.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useCallback, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Cookies from \"js-cookie\";\nimport { Snackbar, Button, Typography, Box, withStyles } from \"@material-ui/core\";\nimport fetchIpData from \"./fetchIpData\";\n\nconst styles = theme => ({\n  snackbarContent: {\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0,\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3)\n  }\n});\n\nconst europeanCountryCodes = [\"AT\", \"BE\", \"BG\", \"CY\", \"CZ\", \"DE\", \"DK\", \"EE\", \"ES\", \"FI\", \"FR\", \"GB\", \"GR\", \"HR\", \"HU\", \"IE\", \"IT\", \"LT\", \"LU\", \"LV\", \"MT\", \"NL\", \"PO\", \"PT\", \"RO\", \"SE\", \"SI\", \"SK\"];\n\nfunction CookieConsent(props) {\n  _s();\n\n  const {\n    classes,\n    handleCookieRulesDialogOpen\n  } = props;\n  const [isVisible, setIsVisible] = useState(false);\n  const openOnEuCountry = useCallback(() => {\n    fetchIpData.then(data => {\n      if (data && data.country && !europeanCountryCodes.includes(data.country)) {\n        setIsVisible(false);\n      } else {\n        setIsVisible(true);\n      }\n    }).catch(() => {\n      setIsVisible(true);\n    });\n  }, [setIsVisible]);\n  /**\n   * Set a persistent cookie\n   */\n\n  const onAccept = useCallback(() => {\n    Cookies.set(\"remember-cookie-snackbar\", \"\", {\n      expires: 365\n    });\n    setIsVisible(false);\n  }, [setIsVisible]);\n  useEffect(() => {\n    if (Cookies.get(\"remember-cookie-snackbar\") === undefined) {\n      openOnEuCountry();\n    }\n  }, [openOnEuCountry]);\n  return /*#__PURE__*/_jsxDEV(Snackbar, {\n    className: classes.snackbarContent,\n    open: isVisible,\n    message: /*#__PURE__*/_jsxDEV(Typography, {\n      className: \"text-white\",\n      children: [\"We use cookies to ensure you get the best experience on our website.\", \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this),\n    action: /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        mr: 1,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          onClick: handleCookieRulesDialogOpen,\n          children: \"More details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        onClick: onAccept,\n        children: \"Got it!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CookieConsent, \"KpZVcX2jbD6IENKQErOGruNCinI=\");\n\n_c = CookieConsent;\nCookieConsent.propTypes = {\n  handleCookieRulesDialogOpen: PropTypes.func.isRequired\n};\nexport default withStyles(styles, {\n  withTheme: true\n})(CookieConsent);\n\nvar _c;\n\n$RefreshReg$(_c, \"CookieConsent\");","map":{"version":3,"sources":["/home/iku/Dropbox/program/project/samonline/UI/src/logged_out/components/cookies/CookieConsent.js"],"names":["React","Fragment","useState","useCallback","useEffect","PropTypes","Cookies","Snackbar","Button","Typography","Box","withStyles","fetchIpData","styles","theme","snackbarContent","borderBottomLeftRadius","borderBottomRightRadius","paddingLeft","spacing","paddingRight","europeanCountryCodes","CookieConsent","props","classes","handleCookieRulesDialogOpen","isVisible","setIsVisible","openOnEuCountry","then","data","country","includes","catch","onAccept","set","expires","get","undefined","propTypes","func","isRequired","withTheme"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useCallback, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Cookies from \"js-cookie\";\nimport {\n  Snackbar,\n  Button,\n  Typography,\n  Box,\n  withStyles,\n} from \"@material-ui/core\";\nimport fetchIpData from \"./fetchIpData\";\n\nconst styles = (theme) => ({\n  snackbarContent: {\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0,\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3),\n  },\n});\n\nconst europeanCountryCodes = [\n  \"AT\",\n  \"BE\",\n  \"BG\",\n  \"CY\",\n  \"CZ\",\n  \"DE\",\n  \"DK\",\n  \"EE\",\n  \"ES\",\n  \"FI\",\n  \"FR\",\n  \"GB\",\n  \"GR\",\n  \"HR\",\n  \"HU\",\n  \"IE\",\n  \"IT\",\n  \"LT\",\n  \"LU\",\n  \"LV\",\n  \"MT\",\n  \"NL\",\n  \"PO\",\n  \"PT\",\n  \"RO\",\n  \"SE\",\n  \"SI\",\n  \"SK\",\n];\n\nfunction CookieConsent(props) {\n  const { classes, handleCookieRulesDialogOpen } = props;\n  const [isVisible, setIsVisible] = useState(false);\n\n  const openOnEuCountry = useCallback(() => {\n    fetchIpData\n      .then((data) => {\n        if (\n          data &&\n          data.country &&\n          !europeanCountryCodes.includes(data.country)\n        ) {\n          setIsVisible(false);\n        } else {\n          setIsVisible(true);\n        }\n      })\n      .catch(() => {\n        setIsVisible(true);\n      });\n  }, [setIsVisible]);\n\n  /**\n   * Set a persistent cookie\n   */\n  const onAccept = useCallback(() => {\n    Cookies.set(\"remember-cookie-snackbar\", \"\", {\n      expires: 365,\n    });\n    setIsVisible(false);\n  }, [setIsVisible]);\n\n  useEffect(() => {\n    if (Cookies.get(\"remember-cookie-snackbar\") === undefined) {\n      openOnEuCountry();\n    }\n  }, [openOnEuCountry]);\n\n  return (\n    <Snackbar\n      className={classes.snackbarContent}\n      open={isVisible}\n      message={\n        <Typography className=\"text-white\">\n          We use cookies to ensure you get the best experience on our website.{\" \"}\n        </Typography>\n      }\n      action={\n        <Fragment>\n          <Box mr={1}>\n            <Button color=\"primary\" onClick={handleCookieRulesDialogOpen}>\n              More details\n            </Button>\n          </Box>\n          <Button color=\"primary\" onClick={onAccept}>\n            Got it!\n          </Button>\n        </Fragment>\n      }\n    />\n  );\n}\n\nCookieConsent.propTypes = {\n  handleCookieRulesDialogOpen: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(CookieConsent);\n"]},"metadata":{},"sourceType":"module"}